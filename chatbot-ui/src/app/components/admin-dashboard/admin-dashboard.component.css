/* src/app/components/admin-dashboard/admin-dashboard.component.css */

:host {
  display: block;
  height: 100dvh;       /* hauteur viewport (meilleur que 100vh sur Windows + barres) */
  overflow: hidden;     /* on confine le scroll au conteneur interne */
  --bg: #f5f7fb;
  --fg: #1e293b;
  --panel: #ffffff;
  --muted: #64748b;
}

:host(.dark), :host-context(.dark) {
  --bg: #1f2937;
  --fg: #e5e7eb;
  --panel: #111827;
  --muted: #9ca3af;
}

/* LE conteneur scrollable doit avoir une hauteur fixe (100%) */
.dashboard {
  height: 100%;
  overflow-y: auto;          /* <- le scroll se fait ici */
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 16px;
  background: var(--bg);
  color: var(--fg);
  box-sizing: border-box;    /* le padding ne “grignote” pas la hauteur */
}

.header {
  display:flex;
  justify-content: space-between;
  align-items:center;
}
.header .right { display:flex; gap:8px; }

.kpis {
  display:grid;
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap:16px;
}
.kpi { background:var(--panel); padding:16px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.05); }
.kpi-title { color:var(--muted); }
.kpi-value { font-size:36px; font-weight:700; margin-top:8px; }

.range-card, .section {
  background:var(--panel);
  padding:16px;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.05);
}

.range-row { display:flex; align-items:center; gap:12px; }

.section-title { font-weight:600; margin-bottom:10px; }
.section-title.row { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.section-title .tools { display:flex; align-items:center; gap:8px; }
.section-title .slo { display:inline-flex; align-items:center; gap:6px; }
.section-title .slo input { width: 80px; }
.nowrap { white-space:nowrap; }

.table { width:100%; border-collapse:collapse; }
.table th, .table td { border-bottom:1px solid rgba(0,0,0,.08); padding:8px; }

.bars { display:flex; align-items:flex-end; gap:10px; min-height:160px; }
.bar { width:28px; display:flex; flex-direction:column; align-items:center; }
.bar-label { font-size:12px; color:var(--muted); margin-top:6px; }
.bar-value { font-size:12px; }

.heatmap { display:grid; gap:6px; }
.heat-row { display:grid; grid-template-columns: 40px repeat(24, 1fr); gap:4px; }
.heat-day { color:var(--muted); font-size:12px; display:flex; align-items:center; }
.heat-cell { height:16px; background:#10b981; border-radius:3px; }

.risk-badge { margin:8px 0; font-weight:600; }
.risk-badge.alert { color:#ef4444; }

.chip { padding:2px 8px; border-radius:999px; font-size:12px; }
.chip.low { background:#e8f5e9; color:#166534; }
.chip.medium { background:#fff7ed; color:#9a3412; }
.chip.high { background:#fef2f2; color:#991b1b; }

apx-chart { width:100%; display:block; }
